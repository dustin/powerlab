<html>
  <head>
    <title>PowerServer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"
            charset="utf-8"></script>
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="/nv.d3.min.js"></script>
    <script src="gauge.js"></script>
    <script src="powerserver.js" charset="utf-8"></script>
    <link href="/nv.d3.css" rel="stylesheet" type="text/css">
    <style type="text/css">
      html {
        font-family: 'verdana';
      }

      body {
        max-width: 600px;
      }

      .error {
        background-color: red;
      }

      .complete {
        color: green;
      }

      #chargeGauge {
        float: right;
      }

      .axis path,
      .axis line {
        fill: none;
        stroke: #000;
        shape-rendering: crispEdges;
      }

      .browser text {
        text-anchor: end;
      }

      .axis path {
        display: none;
      }

      .axis line {
        shape-rendering: crispEdges;
        stroke: #000;
      }

      .axis .minor line {
        stroke: #777;
        stroke-dasharray: 2,2;
      }

      .axis text {
        font-size: small;
      }

      .modeimg {
        position: absolute;
        right: 0;
        bottom: 0;
        width: 320px;
      }

      #cellChart {
        height: 350px;
      }
    </style>
  </head>

  <body>
    <h1>Mode: <span id="mode"></span></h1>
    <div class="chart" id="chargeGauge"></div>

    <div class="modesec" style="display: none" id="Charging">

      <h2>Chemistry:  <span id="Charging-chemistry"></span></h2>
      <p>
        Current: <span id="Charging-amps"></span><br/>
        In: <span id="Charging-mah"></span><br/>
        Max Cell: <span id="Charging-maxcell"></span><br/>
        Voltages: <span id="Charging-volts"></span><br/>
        IR: <span id="Charging-ir"></span><br/>
        Time: <span id="Charging-time"></span><br/>
      </p>

      <img class="modeimg" src="charging.jpg" alt="charging" />
    </div>

    <div class="modesec" style="display: none" id="Discharging">
      <h2>Chemistry:  <span id="Discharging-chemistry"></span></h2>
      <p>
        Current: <span id="Discharging-amps"></span><br/>
        Out: <span id="Discharging-mahout"></span><br/>
        Max Cell: <span id="Discharging-maxcell"></span><br/>
        Voltages: <span id="Discharging-volts"></span><br/>
        Time: <span id="Discharging-time"></span><br/>
      </p>

      <img class="modeimg" src="discharging.jpg" alt="Discharging" />
    </div>

    <div class="modesec" style="display: none" id="PackCoolDown">
      <h2>Chemistry:  <span id="PackCoolDown-chemistry"></span></h2>
      <p>
        Voltages: <span id="PackCoolDown-volts"></span><br/>
      </p>
    </div>

    <div class="modesec" style="display: none" id="Monitoring">
      <h2>Chemistry:  <span id="Monitoring-chemistry"></span></h2>
      <p>
        Time: <span id="Monitoring-time"></span><br/>
        Max Cell: <span id="Monitoring-maxcell"></span><br/>
        Voltages: <span id="Monitoring-volts"></span><br/>
      </p>
    </div>

    <div class="cycle-info" style="display: none">
      Cycle #<span id="cycle-num"></span>
    </div>

    <div class="chart" id="cellChart"><svg></svg></div>
  </body>

  <script type="text/javascript">
    $(powerInit);
  </script>
</html>
